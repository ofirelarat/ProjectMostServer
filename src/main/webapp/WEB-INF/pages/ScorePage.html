<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Insert title here</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.4.1/morris.min.js"></script>
</head>
<body>
	
    <div id="scoreChart" style="height: 250px; width:500px;"></div>
    
    <script>
    
    	$.get("/getScoresForDiagram",function(data){
    		var first = {x: data[0], y: data[0].split(" - ")[0]};
    		var second = {x: data[1], y: data[1].split(" - ")[0]};
    		var third = {x: data[2], y: data[2].split(" - ")[0]};
    		var forth = {x: data[3], y: data[3].split(" - ")[0]};
    		
    		var graphData = [first,second,third,forth];
    		
    		Morris.Bar({
  			  element: 'scoreChart',
  			  data: graphData,
  			  xkey: 'x',
  			  ykeys: ['y'],
  			  labels: ['תוצאה'],
  			  barColors: function(row, series, type){
  				  if(row.x == data[4]) return "#1AB244";
  				  else return "#AD1D28";
  			  }
  			});
    	});
    
    
    /*
    	$.get("/getScoresForDiagram?gameId=1",function(data){
    		var myScore = {x: 'אני', y: data[0]};
    		var secondScore,thirdScore;
    		if(data[0] > data[2]){
    			thirdScore = {x: 'מקום שלישי', y: data[2]};
    			if(data[0] > data[1]){
        			secondScore = {x: 'מקום שני', y: data[1]};
    			}
    			else{
        			secondScore = {x: 'מקום ראשון', y: data[1]};
    			}
    		}
    		else{
    			secondScore = {x: 'מקום ראשון', y: data[1]};
    			thirdScore = {x: 'מקום שני', y: data[2]};
    		}
    		
    		var graphData = [myScore,secondScore,thirdScore];
    		
    		Morris.Bar({
    			  element: 'scoreChart',
    			  data: graphData,
    			  xkey: 'x',
    			  ykeys: ['y'],
    			  labels: ['תוצאה'],
    			  barColors: function(row, series, type){
    				  if(row.label == "אני") return "#1AB244";
    				  else return "#AD1D28";
    			  }
    		});
    	});
	*/

    </script>
</body>
</html>